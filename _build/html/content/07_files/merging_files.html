
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merging logfiles OpenSesame &#8212; Experimentation 1</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Session 8 - Lists" href="../08_lists/lists_intro.html" />
    <link rel="prev" title="Python exercises: Files" href="files_python_exercises.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Experimentation 1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Programming Psychological Experiments using python and OpenSesame
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01_getting_ready/gettingready_intro.html">
   Session 1 - Getting Ready
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_getting_ready/gettingready_software.html">
     OpenSesame, Anaconda and using this website
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_getting_ready/gettingready_python_lessons.html">
     Python lessons: Getting Ready
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_getting_ready/gettingready_python_exercises.html">
     Python exercises: Getting Ready
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02_variables/variables_intro.html">
   Session 2 - Variables
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_variables/variables_python_lessons.html">
     Python lessons: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_variables/variables_python_exercises.html">
     Python Exercises: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_variables/gaze_cuing.html">
     Gaze cuing task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03_conditionals/conditionals_intro.html">
   Session 3 - Conditionals
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_conditionals/conditionals_python_lessons.html">
     Python lessons: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_conditionals/conditionals_python_exercises.html">
     Python exercises: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_conditionals/conflict_tasks.html">
     Stroop, flanker, and go-nogo tasks in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04_functions/functions_intro.html">
   Session 4 - Functions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_functions/functions_python_lessons.html">
     Python lessons: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_functions/functions_python_exercises.html">
     Python exercises: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_functions/wcst.html">
     The Wiconsin Card Sorting Task in OpenSesame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_functions/ultimatumgame/UltimatumGame.html">
     The Ultimatum Game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05_loops/loops_intro.html">
   Session 5 - Loops
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05_loops/loops_python_lessons.html">
     Python lessons: Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05_loops/loops_python_exercises.html">
     Python exercises: Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05_loops/cyberball/Cyberball.html">
     The Cyberball game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06_strings/strings_intro.html">
   Session 6 - Strings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06_strings/strings_python_lessons.html">
     Python lessons: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06_strings/strings_python_exercises.html">
     Python exercises: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06_strings/digitspan/digitspan.html">
     Digital Span Task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="files_intro.html">
   Session 7 - Files
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="files_python_lessons.html">
     Python lessons: Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="files_python_exercises.html">
     Python exercises: Files
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Merging logfiles OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08_lists/lists_intro.html">
   Session 8 - Lists
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08_lists/lists_python_lessons.html">
     Python lessons: Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08_lists/lists_python_exercises.html">
     Python exercises: Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08_lists/visual_search.html">
     Visual Search paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../09_numbers/numbers_intro.html">
   Session 9 - Numbers and arrays
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_numbers/numbers_python_lessons.html">
     Python lessons: Numbers and arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_numbers/numbers_python_exercises.html">
     Python exercises: Numbers and arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_numbers/attentional_blink.html">
     Attentional Blink paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10_dataframes/dataframes_intro.html">
   Session 10 - Dataframes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dataframes/dataframes_python_lessons.html">
     Python lessons: Dataframes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dataframes/dataframes_python_exercises.html">
     Python exercises: Dataframes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dataframes/datawrangling.html">
     Wrangling behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../11_plotting/plotting_intro.html">
   Session 11 - Plotting
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../11_plotting/plotting_python_lessons.html">
     Python lessons: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../11_plotting/plotting_python_exercises.html">
     Python exercises: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../11_plotting/plotting_behavioral_data.html">
     Plotting behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../12_ques/ques_intro.html">
   Session 12 - Canvas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_ques/ques_python_lessons.html">
     Python lessons: Canvas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_ques/ques_python_exercises.html">
     Python exercises: Canvas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_ques/questionnaires/questionnaire.html">
     Questionnaires in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../13_input_output/io_intro.html">
   Session 13 - Using the parallel port
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../13_input_output/io_python_lessons.html">
     Lessons: How to send markers using the parallel port
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../13_input_output/io_python_exercises.html">
     Python exercises: Decimal versus binary notation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../13_input_output/parallelport.html">
     Using the parallel port in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../14_qa/qa_intro.html">
   Session 14 - Q&amp;A
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../14_qa/qa_python_lessons.html">
     Python lessons: Q&amp;A
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../14_qa/qa_python_exercises.html">
     Python exercises: Q&amp;A
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/07_files/merging_files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/JeshuaT/Experimentation1"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/JeshuaT/Experimentation1/issues/new?title=Issue%20on%20page%20%2Fcontent/07_files/merging_files.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/JeshuaT/Experimentation1/edit/main/content/07_files/merging_files.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/JeshuaT/Experimentation1/main?urlpath=tree/content/07_files/merging_files.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/JeshuaT/Experimentation1/blob/main/content/07_files/merging_files.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Merging logfiles OpenSesame
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction">
     Introduction
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-get-opensesame-data-from-osf">
     Step 1. Get OpenSesame data from osf
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-create-a-loop-that-finds-all-files-in-a-particular-directory">
     Step 2. Create a loop that finds all files in a particular directory
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-merge-all-files-into-one-csv-file">
     Step 3. Merge all files into one csv file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-4-save-the-header-only-once">
     Step 4. Save the header only once
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-5-only-merge-files-if-they-have-the-same-header">
     Step 5. Only merge files if they have the same header
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1-count-number-of-files-merged">
     Exercise 1. Count number of files merged
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2-manually-change-content-of-a-file">
     Exercise 2. Manually change content of a file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-3-copy-renamed-files-to-another-location">
     Exercise 3. Copy renamed files to another location
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-4-add-information-as-a-new-column-to-a-textfile">
     Exercise 4. Add information as a new column to a textfile
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-5-merge-the-new-text-files-to-a-single-textfile">
     Exercise 5. Merge the new text files to a single textfile
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Merging logfiles OpenSesame</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Merging logfiles OpenSesame
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction">
     Introduction
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-get-opensesame-data-from-osf">
     Step 1. Get OpenSesame data from osf
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-create-a-loop-that-finds-all-files-in-a-particular-directory">
     Step 2. Create a loop that finds all files in a particular directory
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-merge-all-files-into-one-csv-file">
     Step 3. Merge all files into one csv file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-4-save-the-header-only-once">
     Step 4. Save the header only once
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-5-only-merge-files-if-they-have-the-same-header">
     Step 5. Only merge files if they have the same header
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1-count-number-of-files-merged">
     Exercise 1. Count number of files merged
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2-manually-change-content-of-a-file">
     Exercise 2. Manually change content of a file
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-3-copy-renamed-files-to-another-location">
     Exercise 3. Copy renamed files to another location
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-4-add-information-as-a-new-column-to-a-textfile">
     Exercise 4. Add information as a new column to a textfile
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-5-merge-the-new-text-files-to-a-single-textfile">
     Exercise 5. Merge the new text files to a single textfile
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="merging-logfiles-opensesame">
<h1>Merging logfiles OpenSesame<a class="headerlink" href="#merging-logfiles-opensesame" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p><strong>Warning</strong> During this tutorial we are going to work with files. You learn to create, copy, move, and delete files! Make sure you run your scripts in a location where you are allowed to edit files and that this location does not contain other files. Be careful and make sure you do not accidentially delete or move other files (copying is safer then moving or deleting!). Make backups of important files on your computer before continuing. The sandbox of Google Colab is a safe (more protected) environment to work with files.</p>
</div></blockquote>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>OpenSesame creates a logfile separately for each participant you run. In this tutorial we show a way to merge these logfiles by assuming they all have exactly the same format (i.e., they have identical headers). This is not necessarily the case if you run slightly different versions of the experiment for different participants! Note that during the datawrangling tutorial in a later session, you will learn about a different way to merge logfiles that is more flexible.</p>
</div>
<div class="section" id="step-1-get-opensesame-data-from-osf">
<h2>Step 1. Get OpenSesame data from osf<a class="headerlink" href="#step-1-get-opensesame-data-from-osf" title="Permalink to this headline">¶</a></h2>
<p>Let’s use some python code to download existing OpenSesame data of a Stroop task from <a class="reference external" href="https://osf.io/7ma4t/">osf</a>. Note that the code below creates a folder called <code class="docutils literal notranslate"><span class="pre">tutorial_data</span></code> in your current working directory. Run the code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># recursively remove folder main and its content, do this if you want to start again with</span>
<span class="c1">#shutil.rmtree(&#39;tutorial_data&#39;)</span>

<span class="c1"># create the main directory</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;tutorial_data&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;tutorial_data&#39;</span><span class="p">)</span>

<span class="c1"># download the zip file</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://osf.io/download/3d9er/&#39;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/data_pilot.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># extract the zip file</span>
<span class="kn">import</span> <span class="nn">zipfile</span>
<span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/data_pilot.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_ref</span><span class="p">:</span>
    <span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/&#39;</span>

<span class="c1">#os.remove removes files! Always be careful!</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/CI_RSI2000_test.csv&#39;</span><span class="p">)</span> <span class="c1"># remove one file that is atypical</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Input</span> <span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/CI_RSI2000_test.csv&#39;</span><span class="p">)</span> <span class="c1"># remove one file that is atypical</span>
    <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<p>Check whether the data is properly stored and extracted. Open a csv file to see it’s content.</p>
</div>
<div class="section" id="step-2-create-a-loop-that-finds-all-files-in-a-particular-directory">
<h2>Step 2. Create a loop that finds all files in a particular directory<a class="headerlink" href="#step-2-create-a-loop-that-finds-all-files-in-a-particular-directory" title="Permalink to this headline">¶</a></h2>
<p>Let’s now create a loop that prints all the filesnames found by the os.listdir function and counts the number of files found.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change this to the folder that contains the .csv files</span>
<span class="n">SRC_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;./tutorial_data/data/&#39;</span>

<span class="n">filecount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reading &#39;</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
    <span class="n">filecount</span> <span class="o">=</span> <span class="n">filecount</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of files considered for merge:&#39;</span><span class="p">,</span><span class="n">filecount</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-3-merge-all-files-into-one-csv-file">
<h2>Step 3. Merge all files into one csv file<a class="headerlink" href="#step-3-merge-all-files-into-one-csv-file" title="Permalink to this headline">¶</a></h2>
<p>As a next step, we are going to read in each file line by line and write them to a new merged file.</p>
<p>To create the new merged file and close the handle at the end use the following commands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">fout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/merged.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="c1">#... do stuff</span>
<span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>To read in a file line by line and save each line to the merged file use this loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="n">fhand</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fhand</span><span class="p">:</span>
    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="n">fhand</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Insert these code snippets in the code we just created at the right locations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change this to the folder that contains the .csv files</span>
<span class="n">SRC_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;./tutorial_data/data/&#39;</span>
<span class="c1"># ... your code here</span>

<span class="n">filecount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reading &#39;</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
    <span class="c1"># ... your code here</span>
    <span class="n">filecount</span> <span class="o">=</span> <span class="n">filecount</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of files considered for merge:&#39;</span><span class="p">,</span><span class="n">filecount</span><span class="p">)</span>
<span class="c1"># ... your code here</span>
</pre></div>
</div>
</div>
</div>
<p>Run the code and check whether a merged file is created.</p>
</div>
<div class="section" id="step-4-save-the-header-only-once">
<h2>Step 4. Save the header only once<a class="headerlink" href="#step-4-save-the-header-only-once" title="Permalink to this headline">¶</a></h2>
<p>Let’s adapt the code and use the header only once, that is when processing the first file (defined by filecount == 0). By definition the header of a file is always the first line of this file.</p>
<p>In order to keep track of the line numbers per file, we use a separate counter for this, which is reset (assign value 0 to linecount) when a new file is processed.</p>
<p>The code below now checks whether in the loop we process the header, i.e. the first line (linecount == 0) or not. If it is not the header, we write this line to the merged file. If it is the header, we check whether it is the first file (filecount == 0), in which case we write this line. If it is not the first file, we do write the first line. Actually we do nothing (yet), but given that python does not allow to have an empty else branch of a conditional we use the <code class="docutils literal notranslate"><span class="pre">pass</span></code> command for now as a placeholder (in the next step we will add code here).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change this to the folder that contains the .csv files</span>
<span class="n">SRC_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;./tutorial_data/data/&#39;</span>
<span class="n">fout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/merged.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

<span class="n">filecount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reading &#39;</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
    <span class="n">fhand</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">linecount</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># reset linecount because we process a new file</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fhand</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">linecount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">filecount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#header first file</span>
                <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># do not write header here</span>
                <span class="k">pass</span> <span class="c1"># placeholder for future code</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">linecount</span> <span class="o">=</span> <span class="n">linecount</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">fhand</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">filecount</span> <span class="o">=</span> <span class="n">filecount</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of files considered for merge:&#39;</span><span class="p">,</span><span class="n">filecount</span><span class="p">)</span>
<span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Run the code above and check whether it works.</p>
</div>
<div class="section" id="step-5-only-merge-files-if-they-have-the-same-header">
<h2>Step 5. Only merge files if they have the same header<a class="headerlink" href="#step-5-only-merge-files-if-they-have-the-same-header" title="Permalink to this headline">¶</a></h2>
<p>Now, as final step, let’s make the merging of files conditional on the fact whether the header of any new file to be added is identical to the header of the first file that is used as reference header. To make this work, we need a separate flag variable (of type boolean which is True or False) we call state_write_this_file in the script below. This variable indicates for a given moment whether the file the script is currently working one is a valid file to use for the merging (state_write_this_file == True) or not (state_write_this_file == False). In addition, we save the reference header in the  string variable refheader.</p>
<p>We need quite a complex logic now, so it is good to use a piece of paper to write it out! In the flow diagram below we have visualized the logic of the code for you. Note that the elements in the red squares have to be added in the current step.</p>
<p><img alt="" src="../../_images/join_files_logic.png" /></p>
<p>Compare the diagram to the code below. What lines have been added? Check whether running this code works correctly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change this to the folder that contains the .csv files</span>
<span class="n">SRC_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;./tutorial_data/data/&#39;</span>
<span class="n">fout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./tutorial_data/merged.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

<span class="n">filecount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SRC_FOLDER</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">path</span> <span class="o">!=</span>  <span class="s2">&quot;./tutorial_data/data/CI_RSI2000_test.csv&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reading </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="n">fhand</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">linecount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fhand</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">linecount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">filecount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1">#header first file</span>
                    <span class="n">refheader</span> <span class="o">=</span>  <span class="n">line</span>
                    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                    <span class="n">write_this_file</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1">#check whether current header matches refheader</span>
                    <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="n">refheader</span><span class="p">:</span>
                        <span class="n">write_this_file</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">write_this_file</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">write_this_file</span><span class="p">:</span>
                    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">linecount</span> <span class="o">=</span> <span class="n">linecount</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Line Count:&#39;</span><span class="p">,</span> <span class="n">linecount</span><span class="p">)</span>
        <span class="n">fhand</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">filecount</span> <span class="o">=</span> <span class="n">filecount</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of files considered for merge:&#39;</span><span class="p">,</span><span class="n">filecount</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="exercises">
<h1>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h1>
<div class="section" id="exercise-1-count-number-of-files-merged">
<h2>Exercise 1. Count number of files merged<a class="headerlink" href="#exercise-1-count-number-of-files-merged" title="Permalink to this headline">¶</a></h2>
<p>Add a counter to the script created in the tutorial that keeps the number of files that are merged. Add this number in the print message at the end of the script.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-2-manually-change-content-of-a-file">
<h2>Exercise 2. Manually change content of a file<a class="headerlink" href="#exercise-2-manually-change-content-of-a-file" title="Permalink to this headline">¶</a></h2>
<p>Create a script that opens the merged file created with the code in the tutorial above. Replace all words “neutral” with “neu” and save the edited file under a new name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-3-copy-renamed-files-to-another-location">
<h2>Exercise 3. Copy renamed files to another location<a class="headerlink" href="#exercise-3-copy-renamed-files-to-another-location" title="Permalink to this headline">¶</a></h2>
<p>Run the following code to create a folder structure with 10 dummy textfiles nested into 10 folders. Assume that the text files reflect data belonging to ten participants.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="c1"># recursively remove folder tutorial_data2 and its content</span>
<span class="c1">#shutil.rmtree(&quot;tutorial_data2&quot;)</span>

<span class="c1"># create the tutorial_data directory</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;tutorial_data2&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;tutorial_data2&#39;</span><span class="p">)</span>

<span class="c1"># create the subdirectories</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">directory_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;tutorial_data2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directory_name</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directory_name</span><span class="p">)</span>

<span class="c1"># create the text files</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">directory_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;tutorial_data2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory_name</span><span class="p">,</span> <span class="s1">&#39;file.txt&#39;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Hello world. </span><span class="se">\t</span><span class="s1"> This is another column with line number &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now create a new script that creates a copy of all text files just created and put this copy into the main folder (tutorial_data2). Change the name of the copies file so that the participant number (1..10) is stored into the file name in this format file_pp1.txt, file_pp2.txt, etc.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-4-add-information-as-a-new-column-to-a-textfile">
<h2>Exercise 4. Add information as a new column to a textfile<a class="headerlink" href="#exercise-4-add-information-as-a-new-column-to-a-textfile" title="Permalink to this headline">¶</a></h2>
<p>Create a script that opens the textfiles you created in exercise 3 and that adds the name of its file as a first column (assume data is tab-delimited), so that each file consists of three columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-5-merge-the-new-text-files-to-a-single-textfile">
<h2>Exercise 5. Merge the new text files to a single textfile<a class="headerlink" href="#exercise-5-merge-the-new-text-files-to-a-single-textfile" title="Permalink to this headline">¶</a></h2>
<p>Create a script that merges all files created in exercise 4 into a single text file. Start the text file with a header indicating file name, column 2, and column 3 separated by tabs.</p>
<p>Open the tab-delimited text file in a spreadsheet program and check whether it properly opens in 3-column format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython2 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content\07_files"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="files_python_exercises.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python exercises: Files</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../08_lists/lists_intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Session 8 - Lists</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Jeshua Tromp & Henk van Steenbergen<br/>
    
        &copy; Copyright 2022/2023.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>