
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Ultimatum Game in OpenSesame &#8212; Experimentation 1</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Session 5 - Loops" href="../../05_loops/loops_intro.html" />
    <link rel="prev" title="The Wiconsin Card Sorting Task in OpenSesame" href="../wcst.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Experimentation 1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../intro.html">
   Programming Psychological Experiments using python and OpenSesame
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../01_getting_ready/gettingready_intro.html">
   Session 1 - Getting Ready
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_software.html">
     OpenSesame, Anaconda and using this website
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_python_lessons.html">
     Python lessons: Getting Ready
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_python_exercises.html">
     Python exercises: Getting Ready
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../02_variables/variables_intro.html">
   Session 2 - Variables
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/variables_python_lessons.html">
     Python lessons: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/variables_python_exercises.html">
     Python Exercises: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/gaze_cuing.html">
     Gaze cuing task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../03_conditionals/conditionals_intro.html">
   Session 3 - Conditionals
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conditionals_python_lessons.html">
     Python lessons: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conditionals_python_exercises.html">
     Python exercises: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conflict_tasks.html">
     Stroop and flanker tasks in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../functions_intro.html">
   Session 4 - Functions
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../functions_python_lessons.html">
     Python lessons: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions_python_exercises.html">
     Python exercises: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../wcst.html">
     The Wiconsin Card Sorting Task in OpenSesame
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     The Ultimatum Game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../05_loops/loops_intro.html">
   Session 5 - Loops
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../05_loops/loops_python_lessons.html">
     Python lessons: Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../05_loops/loops_python_exercises.html">
     Python exercises: Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../05_loops/cyberball/Cyberball.html">
     The Cyberball game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../06_strings/strings_intro.html">
   Session 6 - Strings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/strings_python_lessons.html">
     Python lessons: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/strings_python_exercises.html">
     Python exercises: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/digitspan/digitspan.html">
     Digital Span Task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../07_files/files_intro.html">
   Session 7 - Files
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/files_python_lessons.html">
     Python lessons: Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/files_python_exercises.html">
     Python exercises: Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/merging_files.html">
     Merging logfiles OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../08_lists/lists_intro.html">
   Session 8 - Lists
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../08_lists/lists_python_exercises.html">
     Python exercises: Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../08_lists/visual_search.html">
     Visual Search paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../09_numbers/numbers_intro.html">
   Session 9 - Numbers and arrays
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/numbers_python_lessons.html">
     Python lessons: Numbers and arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/numbers_python_exercises.html">
     Python exercises: Numbers and arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/attentional_blink.html">
     Attentional Blink paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../10_dataframes/dataframes_intro.html">
   Session 10 - Dataframes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../10_dataframes/dataframes_python_lessons.html">
     Python lessons: Dataframes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../10_dataframes/dataframes_python_exercises.html">
     Python exercises: Dataframes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../10_dataframes/datawrangling.html">
     Wrangling behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../11_plotting/plotting_intro.html">
   Session 11 - Plotting
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_python_lessons.html">
     Python lessons: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_python_exercises.html">
     Python exercises: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_behavioral_data.html">
     Plotting behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../12_ques/ques_intro.html">
   Session 12 - Canvas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../12_ques/ques_python_lessons.html">
     Python lessons: Canvas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../12_ques/ques_python_exercises.html">
     Python exercises: Canvas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../12_ques/questionnaires/questionnaire.html">
     Questionnaires in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../13_input_output/io_intro.html">
   Session 13 - Input/Output
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/io_python_lessons.html">
     Python lessons: Input / Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/io_python_exercises.html">
     Python exercises: Input/Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/parallelport.html">
     The parallel port in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../14_qa/qa_intro.html">
   Session 14 - Q&amp;A
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../14_qa/qa_python_lessons.html">
     Python lessons: Q&amp;A
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../14_qa/qa_python_exercises.html">
     Python exercises: Q&amp;A
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content/04_functions/ultimatumgame/UltimatumGame.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/JeshuaT/Experimentation1"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/JeshuaT/Experimentation1/issues/new?title=Issue%20on%20page%20%2Fcontent/04_functions/ultimatumgame/UltimatumGame.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/JeshuaT/Experimentation1/edit/master/content/04_functions/ultimatumgame/UltimatumGame.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/JeshuaT/Experimentation1/master?urlpath=tree/content/04_functions/ultimatumgame/UltimatumGame.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/JeshuaT/Experimentation1/blob/master/content/04_functions/ultimatumgame/UltimatumGame.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building-the-framework">
   Building the framework
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-decision-of-player-1">
   The Decision of Player 1
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sketchpad-item-for-presenting-player-1-with-two-options">
     1: Sketchpad item for presenting Player 1 with two options
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#two-sketchpad-items-for-feedback-to-player-1-the-one-which-is-presented-depends-on-the-choice-made-by-player-1">
     2: Two sketchpad items for feedback to Player 1. The one which is presented depends on the choice made by Player 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-sketchpad-item-that-is-presented-for-the-duration-that-player-1-waits-for-the-response-of-player-2">
     3: A sketchpad item that is presented for the duration that Player 1 “waits” for the response of Player 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-decision-of-player-2">
   The Decision of Player 2
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#an-inline-script-item-with-python-code-that-determines-the-choice-of-player-2-based-on-certain-probabilities-as-defined-before">
     4: An Inline Script item with Python code that determines the choice of Player 2 based on certain probabilities (as defined before)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#logging-results-and-running-the-experiment">
   Logging results and running the experiment
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>The Ultimatum Game in OpenSesame</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building-the-framework">
   Building the framework
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-decision-of-player-1">
   The Decision of Player 1
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sketchpad-item-for-presenting-player-1-with-two-options">
     1: Sketchpad item for presenting Player 1 with two options
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#two-sketchpad-items-for-feedback-to-player-1-the-one-which-is-presented-depends-on-the-choice-made-by-player-1">
     2: Two sketchpad items for feedback to Player 1. The one which is presented depends on the choice made by Player 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-sketchpad-item-that-is-presented-for-the-duration-that-player-1-waits-for-the-response-of-player-2">
     3: A sketchpad item that is presented for the duration that Player 1 “waits” for the response of Player 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-decision-of-player-2">
   The Decision of Player 2
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#an-inline-script-item-with-python-code-that-determines-the-choice-of-player-2-based-on-certain-probabilities-as-defined-before">
     4: An Inline Script item with Python code that determines the choice of Player 2 based on certain probabilities (as defined before)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#logging-results-and-running-the-experiment">
   Logging results and running the experiment
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="the-ultimatum-game-in-opensesame">
<h1>The Ultimatum Game in OpenSesame<a class="headerlink" href="#the-ultimatum-game-in-opensesame" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p><strong>Note:</strong> Part of the text below is adapted from The E-Primer (Spapé, Verdonschot, &amp; van Steenbergen, 2019). Spapé M.M.<em>, Verdonschot, R.G., &amp; van Steenbergen, H.</em> (2019) The E-Primer: An introduction to creating psychological experiments in E-Prime. Second edition updated for E-Prime 3. Leiden: Leiden University Press. <a class="reference external" href="http://www.e-primer.com">www.e-primer.com</a> Copyright 2019 by the authors and LUP. Adapted with permission.</p>
</div></blockquote>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Imagine the following scenario. Your friend (let’s call her Alex) is given an amount of money (say, €10), and is told she should share it with you. Alex can decide how much money you get, and how much she gets. Whatever she apportions to herself is hers to keep, on one condition: <em>you</em> have to agree to her proposal*.* In other words, Alex can propose any division of the money she likes, but the ultimate power lies in your hands: you can accept (and each of you gets your share) or decline (and both of you go home with nothing). What kind of split do you think Alex would suggest?</p>
<p>According to classic economic theory, the only reasonable option is for Alex to propose the maximum share for herself (€9) and the minimum for you (€1). After all, you – the responder – would surely accept €1 as being better than nothing at all, so why would you decline her offer?</p>
<p>When real people were asked to play this <em>Ultimatum Game</em> (Güth, Schmittberger &amp; Schwarze, 1982)<em>,</em> however, economics around the world were shocked and astonished to discover that people are not actually all that rational. In fact, responders will often decline unfair offers, even if they, in economic terms, are only shooting themselves in the foot! The players in Alex’s position – the proposers – also tend to be much nicer and tend to make proposals that are only <em>slightly</em> unfair.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_quiz</span><span class="p">(</span><span class="s2">&quot;questions/question_1.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In this tutorial, we are going to program an Ultimatum game where the proposer (the participant) can either decide to propose a fair offer (5 points for me, 5 points for you) or an unfair offer (7 points for me, 3 points for you). After the proposer decision makes the decision, feedback about the response is shown on the screen. We’ll invent a cover story for the participants: we’ll tell them that the responder is a real person connected to the experiment via the internet. In reality, the responder is a virtual agent and just consists of some lines of Python code that makes decisions in a human-like way – rational with some random variation. For this virtual responder, we’ll determine the response behaviour using the following algorithm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">When</span> <span class="n">a</span> <span class="n">fair</span> <span class="n">offer</span> <span class="ow">is</span> <span class="n">made</span> <span class="n">by</span> <span class="n">the</span> <span class="n">proposer</span><span class="p">,</span> <span class="n">I</span> <span class="n">will</span> <span class="n">accept</span> <span class="n">it</span> <span class="mi">80</span><span class="o">%</span> <span class="n">of</span> <span class="n">the</span> <span class="n">time</span><span class="p">;</span> <span class="n">when</span> <span class="n">an</span> <span class="n">unfair</span> <span class="n">offer</span> <span class="ow">is</span> <span class="n">made</span> <span class="n">by</span> <span class="n">the</span> <span class="n">proposer</span><span class="p">,</span> <span class="n">I</span> <span class="n">will</span> <span class="n">accept</span> <span class="n">it</span> <span class="n">only</span> <span class="mi">25</span><span class="o">%</span> <span class="n">of</span> <span class="n">the</span> <span class="n">time</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="building-the-framework">
<h2>Building the framework<a class="headerlink" href="#building-the-framework" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial we will create the entire experiment from scratch, and we will use the ‘default template’, which is already loaded when OpenSesame is launched. Therefore, simply delete the ‘Get started!’ and (if shown) ‘Welcome!’ tabs.</p>
<p><img alt="image info" src="../../../_images/DefaultOverview.PNG" /></p>
<p>We will start with building the framework of our experiment. Since we want to get multiple trials for each testing session, we start with the outer most layer: the <strong>block loop</strong>. Insert a block loop after “experiment”, and you should see the following:</p>
<p><img alt="image info" src="../../../_images/block_loop_empty.PNG" /></p>
<p>From here, we define O1_Me and O1_You as choice 1, and O2_Me and O2_You as choice 2. We make a second row where we reverse the order of the choices, and also define which of the two is the fair choice. As of now, we have two trials. We ofcourse want to have more than two trials presented to Player 1. Change the “repeat” parameter to repeat each cycle 5 times.</p>
<p><img alt="image info" src="../../../_images/block_loop.PNG" /></p>
<div class="cell tag_remove-input docutils container">
</div>
<p>Then, within the block_loop, add a sequence item. We will adapt that later, but for now it’s good to have it in place. Then, we can start adding trial components in the sequence item.</p>
<p>So, lets think about what we need in terms of OpenSesame objects for one trial. We need:</p>
<p>(1) A sketchpad item for presenting Player 1 two options</p>
<p>(2) A keyboard item to explicitly define which keys Player 1 can press, and to store the answer.</p>
<p>(3) Two sketchpad items for feedback to Player 1. The one which is presented depends on the choice made by Player 1</p>
<p>(4) A sketchpad item that is presented for the duration that Player 1 “waits” for the response of Player 2</p>
<p>(5) An Inline Script item with Python code that determines the choice of Player 2 based on certain probabilities (as defined before)</p>
<p>(6) Two sketchpad items for feedback to player 1 that show which response Player 2 had made. One sketchpad item is presented when Player 2 refuses the offer. The other sketchpad item is presented when Player 2 accepts the offer .</p>
<p>Let’s go through these one by one.</p>
</div>
<div class="section" id="the-decision-of-player-1">
<h2>The Decision of Player 1<a class="headerlink" href="#the-decision-of-player-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sketchpad-item-for-presenting-player-1-with-two-options">
<h3>1: Sketchpad item for presenting Player 1 with two options<a class="headerlink" href="#sketchpad-item-for-presenting-player-1-with-two-options" title="Permalink to this headline">¶</a></h3>
<p>Add in a Sketchpad item, and call it “DecisionMe”. The DecisionMe should present two offers and wait until the participant decides to press either the numerical key 1 or the numerical key 2. Now you can see why we have two rows of trial defined in the block_loop. We can now simply define the variables O1_Me, O1_You, O2_Me and O2_You and the block_loop makes sure that the O1 offer isn’t always the fair or unfair offer. You can call variables defined in the block_loop by using the dollar sign followed by brackets ($[variable]). Here is the Sketchitem how we designed it:</p>
<p><img alt="image info" src="../../../_images/DecisionMe.PNG" /></p>
<div class="cell tag_remove-input docutils container">
</div>
<p>We also need to add a keyboard_response item since we want our Player 1 to choose an option by either pressing 1 or 2. Add a keyboard_response item and set “Allowed responses” to 1 and 2. Note that since there is no correct response, we leave it empty. Furthermore, if you would want the Player to respond within a certain amount of time, you could define a Timeout. Here we won’t do that, since reaction time doesn’t play a role in our set-up.</p>
<p><img alt="image info" src="../../../_images/OfferChoice.PNG" /></p>
</div>
<div class="section" id="two-sketchpad-items-for-feedback-to-player-1-the-one-which-is-presented-depends-on-the-choice-made-by-player-1">
<h3>2: Two sketchpad items for feedback to Player 1. The one which is presented depends on the choice made by Player 1<a class="headerlink" href="#two-sketchpad-items-for-feedback-to-player-1-the-one-which-is-presented-depends-on-the-choice-made-by-player-1" title="Permalink to this headline">¶</a></h3>
<p>Now, when Player 1 has made its decision, we want to show the Player which decision it made, just so the Player knows that pressing the response worked. To do that, we will copy the “DecisionMe” sketchpad twice and call those “DecisionMe_feedback1” and “DecisionMe_feedback2”. In one of the sketchpads, we draw a red line around the left box, to indicate that the Player chose that box. In the other sketchpad, we draw a red line around the right box, to indicate that the Player chose that box. To draw the red line you can simply use a red square without fill and draw it around the borders of the decision boxes.</p>
<p><img alt="image info" src="../../../_images/DecisionMe_feedback.PNG" /></p>
<div class="cell tag_remove-input docutils container">
</div>
<p>Now the trial_sequence item we inserted earlier comes in handy. If we go to that item we see that it automatically added all the items we have created so far. We also see a “Run if” column. OpenSesame defines certain variables themselves (see here), and one of them is the [response] variable, which catalogues which response the Player made. So, if we set “run_if” for “DecisionMe_feedback1” to [response] = 1, this sketchpad will only be presented if the Player presses key 1! Do the same for DecionsMe_feedback 2, and it should look like this:</p>
<p><img alt="image info" src="../../../_images/trial_sequence_prelim.PNG" /></p>
</div>
<div class="section" id="a-sketchpad-item-that-is-presented-for-the-duration-that-player-1-waits-for-the-response-of-player-2">
<h3>3: A sketchpad item that is presented for the duration that Player 1 “waits” for the response of Player 2<a class="headerlink" href="#a-sketchpad-item-that-is-presented-for-the-duration-that-player-1-waits-for-the-response-of-player-2" title="Permalink to this headline">¶</a></h3>
<p>This one is easy. Just add a sketchpad that is presented for a certain duration of time, and shows Player 1 that we are waiting for the “response” of Player 2 (using a Textbox). We call it “WaitingForOther”.</p>
<p><img alt="image info" src="../../../_images/WaitingForOther.PNG" /></p>
</div>
</div>
<div class="section" id="the-decision-of-player-2">
<h2>The Decision of Player 2<a class="headerlink" href="#the-decision-of-player-2" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this part of the tutorial you will need to launch the script using Google Colab/Binder</p>
</div>
<p>Great, we have the first part of the experiment nailed! Let’s continue to the response of Player 2.</p>
<div class="section" id="an-inline-script-item-with-python-code-that-determines-the-choice-of-player-2-based-on-certain-probabilities-as-defined-before">
<h3>4: An Inline Script item with Python code that determines the choice of Player 2 based on certain probabilities (as defined before)<a class="headerlink" href="#an-inline-script-item-with-python-code-that-determines-the-choice-of-player-2-based-on-certain-probabilities-as-defined-before" title="Permalink to this headline">¶</a></h3>
<p>Now comes a trickier part. Since we don’t actually have a Player 2, we will now add some artificial intelligence to the experiment that determines Player 2’s decision. Therefore, we will use the feature of OpenSesame to use Python scripts in the trial sequence. The decision of Player 2 should be based on whether the offer of Player 1 is fair or not. If it’s fair, there is a high acceptance rate. If its not fair, there is a low acceptance rate.</p>
<p>First, lets make a list of the possible decisions of Player 2, and store that list in a variable called “Decision”. The possible decisions are “Accept” and “Reject”. You can type in the chunk below to make the list. Don’t look at the solution right away, try to solve it yourself first!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># decision = ...</span>
<span class="c1"># print(decision)</span>
</pre></div>
</div>
</div>
</div>
<p>Now, just to remind ourselves, we want to build a little script that outputs this behaviour: <em>When a fair offer is made by the proposer, I will accept it 80% of the time; when an unfair offer is made by the proposer, I will accept it only 25% of the time.</em></p>
<p>For this kind of decision-making, we can make use of an <em>if…else statement</em>. This statement will only run part of the code if a certain test condition is met. Let’s try it out. Write down a script that decides for you if you should or should not eat the banana based on its colour, and prints out the decision.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># banana = &quot;green&quot;</span>
<span class="c1">#</span>
<span class="c1"># if banana == ...:</span>
<span class="c1">#     ...</span>
<span class="c1"># else:</span>
<span class="c1">#     ...</span>
</pre></div>
</div>
</div>
</div>
<p>In our case we ofcourse don’t decide between eating or not eating a banana, but between accepting or rejection the offer we got based on how fair the offer is. Lets start by programming an “if…else statement” that <strong>always</strong> accepts the offer if its fair, and <strong>always</strong> rejects the offer when its unfair. Call the decision “choice”, and print out the choice made. Test your script by changing the “response” variable to “Fair” or “Unfair”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># response = &quot;Fair&quot;</span>
<span class="c1">#</span>
<span class="c1"># ...</span>
<span class="c1">#</span>
<span class="c1"># print(choice)</span>
</pre></div>
</div>
</div>
</div>
<p>This is a good start. Now, we need to add in the observation that humans in this game don’t always make the same choice. Rather, there is a certain probability (instead of certainty) that a Player accepts or rejects the offer. We need some kind of way to throw a dice each time Player 2 gets an offer, and the probability of the dice landing on “Accept” or “Reject” should depend on the fairness of the offer. As dice-roller, we will make use of the Python module <em>Random</em>, and within that module we will use the <em>choices</em> method. This method picks a value from a list (our decision list in this case), and you can specify the “weights” (how likely it is that an element of a list is chosen) as well. So, let’s build a decision-making <em>if…else statement</em> that accepts the offer 80% of the time when the offer is fair, and accepts the offer just 25% if the offer is unfair. To help yourself, check out <a class="reference external" href="https://www.w3schools.com/python/ref_random_choices.asp">this link</a> for an explanation of the random.choices() method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from random import choices</span>
<span class="c1">#</span>
<span class="c1"># decision = [&quot;Accept&quot;, &quot;Reject&quot;]</span>
<span class="c1"># response = &quot;Fair&quot;</span>
<span class="c1">#</span>
<span class="c1"># if ...</span>
<span class="c1">#</span>
<span class="c1"># else...</span>
<span class="c1">#</span>
<span class="c1"># print(decision)</span>
</pre></div>
</div>
</div>
</div>
<p>Alright, we have have the body of our Python script that we can use in OpenSesame. Now, there are some OpenSesame specific things that we need to look into. Go back to your OpenSesame UltimatumGame script, and insert an inline_script after the WaitingForOther object. Call this inline_script “OtherDecision”. You will see two tabs: the prepare tab and the run tab. Shortly said, during an experiment the “prepare” script will be ran before the trial starts, and the “run” script will be ran during a trial (for more information see the <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/python/about/">OpenSesame website</a>). In our case, what we can already prepare is importing the random.choices() module, and making a list of possible decisions. The actual decision depends on the decision of Player 1, so we will necessarily need to run that in the “run” tab.</p>
<p>This is our solution to coding the decision of Player 2:</p>
<p><img alt="image info" src="../../../_images/OtherDecision.PNG" /></p>
<p>A few things to unpack here in the “run” script. First of all is the way we set the condition:</p>
<p>var.response == var.Fair_Offer</p>
<p>Remember that the responses possible are “1” or “2”. If you take a look back at our “block_loop”, you see that we map Fair_Offer on “1” or “2”, depending on which decision box (left or right) has the fair offer. So, if the response is 1, and the Fair_Offer is also 1, then that means that was a fair offer!</p>
<p>Then, something that you also probably noticed is that we put a <em>var</em> in front of some variables. This is how OpenSesame communicates with the Python environment, and allows us to use the variables in the OpenSesame. OpenSesame has its own (Python-like) scripting language and environment which is separate from the Python environment. Therefore we need to use tricks like these to build a bridge between the two environments (for more information, see <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/python/var/">this link</a>).</p>
<p>Finally, we have to let Player 1 know what the decision was of Player 2. Therefore, again, we make two sketchpad items. One of which is presented when Player 2 accepts the offer, the other one is presented when Player 2 rejects the offer. Call these sketchpads “AcceptOffer” and “RejectOffer”. These sketchpads should communicate the outcome of Player 2’s decision. Then, go back to the “trial_sequence” object, and change the “Run if” of the “AcceptOffer” and “RejectOffer”:</p>
<p><img alt="image info" src="../../../_images/trial_sequence_final.PNG" /></p>
<div class="cell tag_remove-input docutils container">
</div>
<p>As you saw in the question, something there is happening that we probably would not want to have. If there is no offer given, there shouldn’t be a response from Player 2. Starting from our decision script for Player 2, can you find a solution so that, when no response is given, Player 2 simply doesn’t do anything? In OpenSesame, if no response is made the “response” variable is set to “None”. Furthermore, it’s important to print out the choice made, only if there was a choice. Note that there are multiple solutions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from random import choices</span>
<span class="c1">#</span>
<span class="c1"># decision = [&quot;Accept&quot;, &quot;Reject&quot;]</span>
<span class="c1"># response = &quot;None&quot; # Change it to &quot;Fair&quot; and &quot;Unfair&quot; to test your script</span>
<span class="c1">#</span>
<span class="c1"># if response == &quot;Fair&quot;:</span>
<span class="c1">#     choice = choices(decision, weights = [80, 20], k=1)</span>
<span class="c1"># else:</span>
<span class="c1">#     choice = choices(decision, weights = [25, 75], k=1)</span>
<span class="c1">#</span>
<span class="c1"># print(choice)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="logging-results-and-running-the-experiment">
<h2>Logging results and running the experiment<a class="headerlink" href="#logging-results-and-running-the-experiment" title="Permalink to this headline">¶</a></h2>
<p>Now we have everything to run the experiment. However, we are interested in analyzing the results afterwards ofcourse. OpenSesame gives you a really easy way to store every single variable of each trial (including the variables we defined ourselves). Therefore, insert a “logger” item after the RejectOffer and AcceptOffer items. We call the logger item “LogTrials”. Furthermore, it’s also important to don’t start right away with an experiment, but first give instructions. So add instructions before the “block_loop”, and a logger item at the end of the “trial_sequence”, and it should look something like this:</p>
<p><img alt="image info" src="../../../_images/FinalOverview.PNG" /></p>
<p>Now we are set to run the experiment, and record everything we want (and way more). Press the green arrow (or use the shortcut “CTRL + R”) to start the experiment. Insert the subject number, and test the experiment.</p>
<p>The experiment should look something like this:</p>
<div class="cell tag_remove-input docutils container">
</div>
<p>Now you have a framework to test social decision making in humans. From here on you can tweak many variables depending on your hypothesis. Perhaps you are interested in more than just two options? And what will happen if Player 1 notices that Player 2 is very easy in accepting unfair decisions? Many possibilities to go to from, but you have a great basis to start from.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content\04_functions\ultimatumgame"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../wcst.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">The Wiconsin Card Sorting Task in OpenSesame</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../05_loops/loops_intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Session 5 - Loops</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Jeshua Tromp & Henk van Steenbergen<br/>
    
        &copy; Copyright 2022/2023.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>