
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Cyberball game in OpenSesame &#8212; Experimentation 1</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Session 6 - Strings" href="../../06_strings/strings_intro.html" />
    <link rel="prev" title="Python exercises: Loops" href="../loops_python_exercises.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Experimentation 1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../intro.html">
   Experimentation I 2022-2023
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../01_getting_ready/gettingready_intro.html">
   Session 1 - Getting Ready
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_software.html">
     OpenSesame, Anaconda and using this website
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_python_lessons.html">
     Python lessons: Getting Ready
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01_getting_ready/gettingready_python_exercises.html">
     Python exercises: Getting Ready
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../02_variables/variables_intro.html">
   Session 2 - Variables
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/variables_python_lessons.html">
     Python lessons: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/variables_python_exercises.html">
     Python Exercises: Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_variables/gaze_cuing.html">
     Gaze cuing task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../03_conditionals/conditionals_intro.html">
   Session 3 - Conditionals
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conditionals_python_lessons.html">
     Python lessons: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conditionals_python_exercises.html">
     Python exercises: Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_conditionals/conflict_tasks.html">
     Stroop and flanker tasks in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../04_functions/functions_intro.html">
   Session 4 - Functions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04_functions/functions_python_lessons.html">
     Python lessons: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04_functions/functions_python_exercises.html">
     Python exercises: Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04_functions/wcst.html">
     The Wiconsin Card Sorting Task in OpenSesame
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04_functions/ultimatumgame/UltimatumGame.html">
     The Ultimatum Game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../loops_intro.html">
   Session 5 - Loops
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../loops_python_lessons.html">
     Python lessons: Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../loops_python_exercises.html">
     Python exercises: Loops
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     The Cyberball game in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../06_strings/strings_intro.html">
   Session 6 - Strings
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/strings_python_lessons.html">
     Python lessons: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/strings_python_exercises.html">
     Python exercises: Strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06_strings/digitspan/digitspan.html">
     Digital Span Task in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../07_files/files_intro.html">
   Session 7 - Files
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/files_python_lessons.html">
     Python lessons: Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/files_python_exercises.html">
     Python exercises
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07_files/merging_files.html">
     Merging logfiles OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../08_lists/lists_intro.html">
   Session 8 - Lists
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../08_lists/lists_python_lessons.html">
     Python lessons: Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../08_lists/lists_python_exercises.html">
     Python exercises: Lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../08_lists/visual_search.html">
     Visual Search paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../09_numbers/numbers_intro.html">
   Session 9 - Numbers
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/numbers_python_lessons.html">
     Python lessons: Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/numbers_python_exercises.html">
     Python exercises: Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../09_numbers/attentional_blink.html">
     Attentional Blink paradigm in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../10_dataframes/dataframes_intro.html">
   Session 10 - Dataframes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../10_dataframes/dataframes_python_exercises.html">
     Python exercises
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../10_dataframes/datawrangling.html">
     Wrangling behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../11_plotting/plotting_intro.html">
   Session 11 - Plotting
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_python_lessons.html">
     Python lessons: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_python_exercises.html">
     Python exercises: Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../11_plotting/plotting_behavioral_data.html">
     Plotting behavorial data generated by OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../13_input_output/io_intro.html">
   Session 13 - Input/Output
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/io_python_lessons.html">
     Python lessons: Input / Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/io_python_exercises.html">
     Python exercises: Input/Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../13_input_output/parallelport.html">
     The parallel port in OpenSesame
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../14_qa/qa_intro.html">
   Session 14 - Q&amp;A
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../14_qa/qa_python_lessons.html">
     Python lessons: Q&amp;A
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../14_qa/qa_python_exercises.html">
     Python exercises: Q&amp;A
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content/05_loops/cyberball/Cyberball.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/JeshuaT/Experimentation1"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/JeshuaT/Experimentation1/issues/new?title=Issue%20on%20page%20%2Fcontent/05_loops/cyberball/Cyberball.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/JeshuaT/Experimentation1/edit/master/content/05_loops/cyberball/Cyberball.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/JeshuaT/Experimentation1/master?urlpath=tree/content/05_loops/cyberball/Cyberball.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/JeshuaT/Experimentation1/blob/master/content/05_loops/cyberball/Cyberball.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-programming-the-basic-experimental-flow">
     Step 1: Programming the basic experimental flow
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-programming-the-behaviour-of-player-1-and-player-3">
     Step 2: Programming the behaviour of Player 1 and Player 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-programming-player-2">
     Step 3: Programming Player 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alternative-solution-custom-code-to-play-the-movie">
   Alternative solution: Custom code to play the movie
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#present-the-video-at-the-center-of-the-screen">
     1. Present the video at the center of the screen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#change-the-speed-of-the-video">
     2. Change the speed of the video
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#manipulate-the-level-of-social-exclusion">
     3. Manipulate the level of social exclusion
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alternatives-to-manually-prepare-an-opensesame-object">
     4. Alternatives to manually prepare an OpenSesame object
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dummy-loop-solution">
       1. Dummy loop solution
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#run-if-solution">
       2. Run-If solution
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>The Cyberball game in OpenSesame</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-1-programming-the-basic-experimental-flow">
     Step 1: Programming the basic experimental flow
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-2-programming-the-behaviour-of-player-1-and-player-3">
     Step 2: Programming the behaviour of Player 1 and Player 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#step-3-programming-player-2">
     Step 3: Programming Player 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#alternative-solution-custom-code-to-play-the-movie">
   Alternative solution: Custom code to play the movie
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#present-the-video-at-the-center-of-the-screen">
     1. Present the video at the center of the screen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#change-the-speed-of-the-video">
     2. Change the speed of the video
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#manipulate-the-level-of-social-exclusion">
     3. Manipulate the level of social exclusion
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alternatives-to-manually-prepare-an-opensesame-object">
     4. Alternatives to manually prepare an OpenSesame object
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dummy-loop-solution">
       1. Dummy loop solution
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#run-if-solution">
       2. Run-If solution
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="the-cyberball-game-in-opensesame">
<h1>The Cyberball game in OpenSesame<a class="headerlink" href="#the-cyberball-game-in-opensesame" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>Part of the text below is adapted from The E-Primer (Spapé, Verdonschot, &amp; van Steenbergen, 2019).  Spapé M.M.*, Verdonschot, R.G., &amp; van Steenbergen, H.* (2019) The E-Primer: An introduction to creating psychological experiments in E-Prime. Second edition updated for E-Prime 3. Leiden: Leiden University Press. <a class="reference external" href="http://www.e-primer.com">http://www.e-primer.com</a>. Copyright 2019 by the authors and LUP. Adapted with permission.</p>
</div></blockquote>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Cyberball game allows psychologists to investigate the effects of social exclu- sion (ostracism). Kipling D. Williams came up with this idea after a Frisbee rolled up and hit him in the back when relaxing in a park in 1983:</p>
<blockquote>
<div><p>He turned around, saw two other guys looking at him expectantly, and threw the Frisbee back to them. He was a bit surprised when they threw the disk back to him; he walked toward them to form a triangle, and threw it back again. For about a minute, the three of them threw the Frisbee around in a spirited game of catch. What happened next sparked an idea as to how to study the effects of ostracism. For no apparent reason, the two original players started throwing the Frisbee only to each other, and never threw it to the newcomer again. After sheepishly back-stepping toward his dog, the author was amazed at how bad he felt. He was sad, embarrassed, and a bit angry. He wondered what he had done to warrant being ostracised by the other two players. He sought comfort from his faithful dog. Then, it occurred to him that something like this, adapted for the laboratory, would be an excellent means to study ostracism and social exclusion. (Williams &amp; Jarvis, 2006, p.174).</p>
</div></blockquote>
<p>These are the instructions participants usually receive:</p>
<blockquote>
<div><p>“Welcome to Cyberball, the Interactive Ball-Tossing Game Used for Mental Visualisation!</p>
<p>In the upcoming experiment, we test the effects of practising mental visualisation on task performance. Thus, we need you to practise your mental visualisation skills. We have found that the best way to do this is to have you play an on-line game of catch with other participants who are logged on at the same time.</p>
<p>In a few moments, you will be playing a game of catch with other students over our network. The game is very simple. When the ball is tossed to you, simply use the keyboard to indicate the player (with numerical key 1 or 3) you want to throw it to. When the game is over, the experimenter will give you additional instructions.</p>
<p>What is important is not your ball tossing performance, but that you MENTALLY VISUALISE the entire experience. Imagine what the others look like. What sort of people are they? Where are you playing? Is it warm and sunny, or cold and rainy? Create in your mind a complete mental picture of what might be going on if you were playing this game in real life.</p>
<p>Okay, ready to begin?”</p>
</div></blockquote>
<p>This is what the game looks like at the start:</p>
<p><img alt="" src="../../../_images/Cyberball1.png" /></p>
<div class="section" id="step-1-programming-the-basic-experimental-flow">
<h3>Step 1: Programming the basic experimental flow<a class="headerlink" href="#step-1-programming-the-basic-experimental-flow" title="Permalink to this headline">¶</a></h3>
<p>To program the game, you first need some movie clips that show a ball moving between the players. You need six of them depicting all possible directions:</p>
<p>From player 1 to player 2 (<span class="xref myst">1to2.wmv</span>)<br />
From player 1 to player 3 (<span class="xref myst">1to3.wmv</span>)<br />
From player 2 to player 1 (<span class="xref myst">2to1.wmv</span>)<br />
From player 2 to player 3 (<span class="xref myst">2to3.wmv</span>)<br />
From player 3 to player 1 (<span class="xref myst">3to1.wmv</span>)<br />
From player 3 to player 2 (<span class="xref myst">3to2.wmv</span>)</p>
<p>The six movie files can be downloaded using the links.</p>
<p>Note that these small Windows Media Files have been converted from the original animated gifs that are freely available on <a class="reference external" href="http://www3.psych.purdue.edu/%5C%7Ewillia55/Announce/cyberball.htm">K.D. Williams’ website</a>.</p>
<p>Now let’s draw the basic flow chart for each trial, which determines which movies should be played when:</p>
<p><img alt="" src="../../../_images/WhoseTurnOS.png" /></p>
<p>This flow chart basically decides who is throwing the ball in this trial (Player 1, Player 2, or Player 3) and, by retrieving the values from a variable (column) from the OpenSesame Loop object (see next step), it will decide the destination of the ball.</p>
<p>Let’s create the entire experiment from scratch and use the ‘default template’, which is already loaded when OpenSesame is launched. You can simple delete the ‘Get started!’ and copy paste the introduction described above in the <code class="docutils literal notranslate"><span class="pre">welcome</span></code> sketchpad.</p>
<p>Also, make sure you download and add all six video files mentioned above to the File pool first. Also, set the back-end of the experiment to <code class="docutils literal notranslate"><span class="pre">legacy</span></code>.</p>
<p>At any moment during the experiment we need to have access to the information about which player currently has the ball. So, create a new variable named <code class="docutils literal notranslate"><span class="pre">current_player</span></code> with the initial value 1, in a new inline_script called <code class="docutils literal notranslate"><span class="pre">init_exp</span></code> at the beginning of your <code class="docutils literal notranslate"><span class="pre">experiment</span></code> procedure (the game always starts with Player 1 throwing the ball). As shown here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Now you can implement the basic branching structure using conditional via the <a class="reference external" href="https://osdoc.cogsci.nl/3.2/manual/variables/#using-conditional-if-statements">run-if statement of the sequence</a>.</p>
<p>Depending on the value in current_player, the script may run one single trial in either <code class="docutils literal notranslate"><span class="pre">player1_loop</span></code>, <code class="docutils literal notranslate"><span class="pre">player2_loop</span></code>, or <code class="docutils literal notranslate"><span class="pre">player3_loop</span></code>. In order to do so, we make use of a combination of loops run in a <code class="docutils literal notranslate"><span class="pre">trial_seq</span></code>. Build a basic setup running 60 trials, as in the example below:</p>
<p><img alt="" src="../../../_images/Cyberball_condif.png" /></p>
<p>Note that we used the Python syntax for the conditional statements. You can also use the OpenSesame syntax again in which case you omit the <code class="docutils literal notranslate"><span class="pre">=var.</span></code> and instead use square brackets around the variable name.</p>
<p>TODO quiz. What is the OpenSesame syntax</p>
<p>TODO quiz. is == necessary or not. In which language</p>
</div>
<div class="section" id="step-2-programming-the-behaviour-of-player-1-and-player-3">
<h3>Step 2: Programming the behaviour of Player 1 and Player 3<a class="headerlink" href="#step-2-programming-the-behaviour-of-player-1-and-player-3" title="Permalink to this headline">¶</a></h3>
<p>Let’s now think about how to set up the <code class="docutils literal notranslate"><span class="pre">player1_loop</span></code> and <code class="docutils literal notranslate"><span class="pre">player2_loop</span></code>. These loops should retrieve the new destination that the virtual Players 1 and 3 will toss the ball to. So add a variable (column) in boths loops named <code class="docutils literal notranslate"><span class="pre">target_player</span></code> and type in the possible destinations of that player (a player is not allowed to toss the ball to themselves! It would be an interesting extension of the paradigm, though…).</p>
<p>These loops fully determine the behaviour of Player 1 and Player 3. It’s up to you whether you want to make this behaviour predictable (use sequential selection), fully random (use random selection), or preferential (increase the number of rows of specific target players).</p>
<p>TODO: explain break if feature!</p>
<p>The example below implements a very predictable and non-preferential playing style for both players.</p>
<p><img alt="" src="../../../_images/Cyberball_player1+3.png" /></p>
<p>TODO quiz break if</p>
<p>Now let these loops run a sequence called <code class="docutils literal notranslate"><span class="pre">play1_seq</span></code> and <code class="docutils literal notranslate"><span class="pre">play3_seq</span></code> that contain an inline_script (name the scripts <code class="docutils literal notranslate"><span class="pre">prepare_player1</span></code> and <code class="docutils literal notranslate"><span class="pre">prepare_player3</span></code> respectively) and a subsequently presented media player <code class="docutils literal notranslate"><span class="pre">media_player_mpy</span></code>.</p>
<p>Make sure you use the same media player object in both sequences (Hint: use the Copy (linked) - Paste feature using right mouse button clicks in the Overview area).</p>
<p>Hint: the media player object is available under the Visual stimuli header, at the bottom of the Toolbar (if you have a small screen resolution, it might be hidden under the small arrows pointing down).</p>
<p>Edit the <code class="docutils literal notranslate"><span class="pre">media_player_mpy</span></code> object in the following way:</p>
<ol class="simple">
<li><p>Refer to the variable <code class="docutils literal notranslate"><span class="pre">movie_filename</span></code> in the Video file field</p></li>
<li><p>Set the Duration property to <code class="docutils literal notranslate"><span class="pre">sound</span></code> so that this object is presented for the entire duration of the video</p></li>
</ol>
<p>Finally, give the variable <code class="docutils literal notranslate"><span class="pre">movie_filename</span></code> the initial (temporary) file name “‘1to2.wmv” in the <code class="docutils literal notranslate"><span class="pre">init_exp</span></code> script. So add the following line there:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;1to2.wmv&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="n">bd0263728e3</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;1to2.wmv&quot;</span>

<span class="ne">NameError</span>: name &#39;var&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Now, add this code in PreparePlayer1:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;1to&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">target_player</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.wmv&quot;</span>
<span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">target_player</span> <span class="c1"># info for next trial</span>
<span class="n">items</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;media_player_mpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">0</span><span class="n">ebf78cf5882</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;1to&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">target_player</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.wmv&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">target_player</span> <span class="c1"># info for next trial</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">items</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;media_player_mpy&quot;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;var&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>TODO difference single versus double quote when using indentation</p>
<p>This script overwrites the temporary filename in the MovieDisplay with the correct filename. The second line is also very important. Here, the value of the variable <code class="docutils literal notranslate"><span class="pre">current_player</span></code> is updated to the new destination, so that in the next trial the branching structure knows who is at that moment the <code class="docutils literal notranslate"><span class="pre">current_player</span></code>. Finally, because of the <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/prepare-run/">prepare-run strategy</a> in OpenSesame, the temporary filename was used to prepare the media player at the start of the trial. To make sure the media player is updated and shows the proper file, we manually prepare it again using the items.prepare command.</p>
<p>Almost the same code should be added to the PreparePlayer3 InLine:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;3to&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">target_player</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.wmv&quot;</span>
<span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">target_player</span> <span class="c1"># info for next trial</span>
<span class="n">items</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;media_player_mpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="n">d3ec1951bb2</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;3to&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">target_player</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.wmv&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">target_player</span> <span class="c1"># info for next trial</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">items</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;media_player_mpy&quot;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;var&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-3-programming-player-2">
<h3>Step 3: Programming Player 2<a class="headerlink" href="#step-3-programming-player-2" title="Permalink to this headline">¶</a></h3>
<p>Let’s now add a Procedure named <code class="docutils literal notranslate"><span class="pre">play2_seq</span></code> to the <code class="docutils literal notranslate"><span class="pre">player2_loop</span></code>. We don’t need any variables added to this loop. Just make sure the loop run only once.</p>
<p>Do the same for <code class="docutils literal notranslate"><span class="pre">play2_seq</span></code> as you did for <code class="docutils literal notranslate"><span class="pre">play1_seq</span></code> and <code class="docutils literal notranslate"><span class="pre">play3_seq</span></code> : add an inline script (name it <code class="docutils literal notranslate"><span class="pre">prepare_player2</span></code>) and insert the <code class="docutils literal notranslate"><span class="pre">play_movie</span></code> (again paste a linked copy from the clipboard).</p>
<p>Now add a keyboard_response object to the beginning of the sequence (name it <code class="docutils literal notranslate"><span class="pre">wait_for_user</span></code>) and set it to log the responses 1 and 3. The keyboard_response object has an infinite timeout and will be terminated as soon as the user has decided which player they want to toss the ball to (i.e. Player 1 or 3).</p>
<p>To show the correct movie after the response to the <code class="docutils literal notranslate"><span class="pre">wait_for_user</span></code>object, we need the following code in the <code class="docutils literal notranslate"><span class="pre">prepare_player2</span></code> script:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span> <span class="o">=</span> <span class="s2">&quot;2to&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">response</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.wmv&quot;</span>\
<span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">response</span> \<span class="c1"># info for next trial</span>
<span class="n">items</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;media_player_mpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-4-9e63103d3a73&gt;&quot;</span><span class="gt">, line </span><span class="mi">2</span>
    <span class="n">var</span><span class="o">.</span><span class="n">current_player</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">response</span> \<span class="c1"># info for next trial</span>
      <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<p>Done! Compare the structure of your experiment with the flowchart. You should now be able to play the Cyberball game. Use the “Run in window” feature and open the Variable inspector while your experiment runs. Check whether the variables <code class="docutils literal notranslate"><span class="pre">movie_filename</span></code> and <code class="docutils literal notranslate"><span class="pre">current_player</span></code> are properly updated.</p>
</div>
</div>
<div class="section" id="alternative-solution-custom-code-to-play-the-movie">
<h2>Alternative solution: Custom code to play the movie<a class="headerlink" href="#alternative-solution-custom-code-to-play-the-movie" title="Permalink to this headline">¶</a></h2>
<p>Although OpenSesame does have the standard <code class="docutils literal notranslate"><span class="pre">media_player_mpy</span></code> object to play a movie, you may notice that it does not work flawless. For example, if you are too quick, the response to player 2 is not recorded because there seems to be a small delay at the end of the movie. In addition, at the end of the movie the screen is cleared using the default OpenSesame background color. This creates an annoying screen glitch between movies.</p>
<p>No worries though. We can create our own python code to play a movie where we have full control. However, do not expect this is simple. :)</p>
<p>Save your old experiment and then save it again under a new filename. Now replace the media_player_mpy objects everywhere with a script called <code class="docutils literal notranslate"><span class="pre">play_movie</span></code>. Also, remove the <code class="docutils literal notranslate"><span class="pre">items.prepare(&quot;media_player_mpy&quot;)</span></code> calls from all inlines.</p>
<p>Let’s first create a simple loop that presents something that moves on the screen. This code should be inserted into the <code class="docutils literal notranslate"><span class="pre">play_movie</span></code> inline script.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_canvas</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">):</span>
    <span class="n">my_canvas</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span><span class="p">)</span>
    <span class="n">my_canvas</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">my_canvas</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">my_canvas</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="mi">937</span><span class="n">a80ca7e72</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">my_canvas</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="n">my_canvas</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">my_canvas</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;Canvas&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Time to test the experiment. Do you see something moving on the screen? And do you see when it is your (player 2) turn?</p>
<p>Experiment with the settings of the sleep parameter (speed of the asterisk) and the x (horizontal position) and the y (vertical position).</p>
<p>Can you change the vertical position into a quadratic shape so it looks like a ball is thrown?<br />
y = i**2 - 200</p>
<p>Okay, this was boring, right? Time to change the loop and present the movie itself.</p>
<p>First comment the code you just wrote (select everything and press <code class="docutils literal notranslate"><span class="pre">Ctrl+/</span></code> (see OpenSesame <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/interface/#keyboard-shortcuts">keyboard shortcuts</a>)</p>
<p>Now we first need to load the correct movie file and then present the picture frame by frame in the loop.</p>
<p>Of course, do not reinvent the wheel! Others have provided pieces of code we can recycle. Google is your friend. The example below is adapted from the <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/stimuli/video/">OpenSesame website</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">pygame</span>
<span class="c1"># Full path to the video file in file pool</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">pool</span><span class="p">[</span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span><span class="p">]</span>
<span class="c1"># Open the video</span>
<span class="n">video</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="c1"># A loop to play the video file. This can also be a while loop until a key</span>
<span class="c1"># is pressed. etc.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="c1"># Get a frame</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">retval</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="c1"># Rotate it, because for some reason it otherwise appears flipped.</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">rot90</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="c1"># Flip it (vertically?!), because for some reason it otherwise appears horizontally (!) flipped.</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">flipud</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="c1"># The video uses BGR colors and PyGame needs RGB</span>

        <span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
        <span class="c1"># Create a PyGame surface</span>
        <span class="n">surf</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">surfarray</span><span class="o">.</span><span class="n">make_surface</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="c1">#end of movie</span>
        <span class="k">break</span>

    <span class="c1"># Show the PyGame surface!</span>
    <span class="n">exp</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="mi">18</span><span class="n">c47b1640de</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">cv2</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">numpy</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">pygame</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Full path to the video file in file pool</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">path</span> <span class="o">=</span> <span class="n">pool</span><span class="p">[</span><span class="n">var</span><span class="o">.</span><span class="n">movie_filename</span><span class="p">]</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;cv2&#39;
</pre></div>
</div>
</div>
</div>
<p>Were all steps implemented correctly? Check whether the game works using this custom code.</p>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="present-the-video-at-the-center-of-the-screen">
<h3>1. Present the video at the center of the screen<a class="headerlink" href="#present-the-video-at-the-center-of-the-screen" title="Permalink to this headline">¶</a></h3>
<p>Let’s move the video to the center of the screen. The upper-left corner is determined by the (x,y) coordinates we provide to <code class="docutils literal notranslate"><span class="pre">exp.surface.blit</span></code></p>
<p>In order to determine the correct coordinates we need to know the width and height of the screen resolution currently used in the experiment. For this we can use Open Sesame’s <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/variables/#built-in-variables">built-in variables</a> <code class="docutils literal notranslate"><span class="pre">var.width</span></code> and <code class="docutils literal notranslate"><span class="pre">var.height</span></code>.</p>
<p>To determine the width and height of the video file presented (units are pixels) we need some functionality provided by the cv2 package. Nobody knows this by heart, so let’s google it. When I searched “cv2 height of video”, I found some useful information <a class="reference external" href="https://stackoverflow.com/questions/39953263/get-video-dimension-in-python-opencv">here</a>.</p>
<p>So let’s save the width and heigth of the video in a separate variable after you called the cv2.VideoCapture command.</p>
<p>QUIZ: location</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">videowidth</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_WIDTH</span> <span class="p">)</span>
<span class="n">videoheight</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_HEIGHT</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="mi">43</span><span class="n">d60958427e</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">videowidth</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_WIDTH</span> <span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">videoheight</span> <span class="o">=</span> <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_HEIGHT</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;video&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Now, combine the dimensions of the screen and the video to determine the upper-left corner position and feed this as coordinates into exp.surfdrive.blit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exp</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="p">((</span><span class="n">var</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">videowidth</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">videoheight</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="n">f73df8611812</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">exp</span><span class="o">.</span><span class="n">surface</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">surf</span><span class="p">,</span> <span class="p">((</span><span class="n">var</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">videowidth</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">var</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">videoheight</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>

<span class="ne">NameError</span>: name &#39;exp&#39; is not defined
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="change-the-speed-of-the-video">
<h3>2. Change the speed of the video<a class="headerlink" href="#change-the-speed-of-the-video" title="Permalink to this headline">¶</a></h3>
<p>As you may have noticed, the speed of the video is currently determined by the speed of your cpu. If you have a very quick cpu the video is presented quicker than if you have a very slow cpu.</p>
<p>Let’s change that. Actually, the wmv contains information about the supposed number of frames that have to be presented in a second (fps = frames per second). Let’s save the <code class="docutils literal notranslate"><span class="pre">fps</span></code> information:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fps</span> <span class="o">=</span>  <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FPS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="mf">6212e6872</span><span class="n">b74</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">fps</span> <span class="o">=</span>  <span class="n">video</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FPS</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;video&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Use the print method to determine the fps for our video’s. Look in the console for the value.</p>
<p>QUIZ: what is the fps? answer: 30</p>
<p>Now, we can simply delay the time between each look with <code class="docutils literal notranslate"><span class="pre">1000</span> <span class="pre">/</span> <span class="pre">fps</span></code> ms within each loop to present the video at a slower rate. Add the following code in the loop that presents the frames:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="o">/</span><span class="n">fps</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">667</span><span class="n">a338bb456</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="o">/</span><span class="n">fps</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;clock&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Try whether this works!</p>
<p>QUIZ: what is the problem now? Assume very slow or quick computer. Code itself takes time</p>
<p>Because the code that presents the picture also needs some time, we actually need a smarter piece of code that only waits if there is time remaining after all the other works has been done. So we need a function like the clock.tick() described <a class="reference external" href="https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop">here</a>.</p>
<p>The function below mimics the functionality of the clock.tick method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myclocktick</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
  <span class="c1">#inspired by clock.tick</span>
  <span class="c1">#see https://stackoverflow.com/questions/34383559/pygame-clock-tick-vs-framerate-in-game-main-loop</span>
  <span class="k">if</span> <span class="n">var</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;prevt&#39;</span><span class="p">):</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1000</span><span class="o">/</span><span class="n">foo</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">clock</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">var</span><span class="o">.</span><span class="n">prevt</span><span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">diff</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">clock</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>

  <span class="n">var</span><span class="o">.</span><span class="n">prevt</span> <span class="o">=</span> <span class="n">clock</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Paste this code in the <code class="docutils literal notranslate"><span class="pre">Prepare</span></code> tab of the <code class="docutils literal notranslate"><span class="pre">play_movie</span></code> inline script. Then, in the <code class="docutils literal notranslate"><span class="pre">Run</span></code> tab replace the clock.sleep code with the following line:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">myclocktick</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="n">e2f553a49a3b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">myclocktick</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;fps&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Try whether you notice any differences. On slower computers the movie may play more smoothly now.</p>
</div>
<div class="section" id="manipulate-the-level-of-social-exclusion">
<h3>3. Manipulate the level of social exclusion<a class="headerlink" href="#manipulate-the-level-of-social-exclusion" title="Permalink to this headline">¶</a></h3>
<p>Add a <code class="docutils literal notranslate"><span class="pre">block_loop</span></code> around the trials_loop that runs two blocks. In one block (the exclusion block), player1 and player 3prefer to play with the other player in 8 out of 10 times. In the other block they have equal preference to play with you (player 2) or the other player.</p>
<p>Hint: you need to set the weight of the rows in player1_loop and player2_loop (see the <a class="reference external" href="https://osdoc.cogsci.nl/3.3/manual/structure/loop/#advanced-loop-operations">advanced loop</a> documentation). Make sure you shuffle after the weight command, otherwise the repeats are presented after each other (behavior that is different in E-Prime)!</p>
<p>The figure below illustrates how you can set the weight of the <code class="docutils literal notranslate"><span class="pre">player1_loop</span></code> (do the same for <code class="docutils literal notranslate"><span class="pre">player3_loop</span></code>!) by referring to a variable that is defined one level higher in the hierarchy, i.e. in the <code class="docutils literal notranslate"><span class="pre">block_loop</span></code>. Do not press the Preview button though (it will crash because we do not refer to fixed values for the weighting).</p>
<p><br />
<img alt="" src="../../../_images/Cyberball_nestedloops.png" /></p>
<p>Test whether this works. Do you feel more excluded in the first block then in the second block?</p>
<p>Add a third block that includes you 8 out of 10 times. Does the inclusion make you feel better?</p>
</div>
<div class="section" id="alternatives-to-manually-prepare-an-opensesame-object">
<h3>4. Alternatives to manually prepare an OpenSesame object<a class="headerlink" href="#alternatives-to-manually-prepare-an-opensesame-object" title="Permalink to this headline">¶</a></h3>
<p>Experiment with two alternatives to the items.prepare() method:</p>
<div class="section" id="dummy-loop-solution">
<h4>1. Dummy loop solution<a class="headerlink" href="#dummy-loop-solution" title="Permalink to this headline">¶</a></h4>
<p>Open the old experiment with the media_player you saved after Step 3. Replace the <code class="docutils literal notranslate"><span class="pre">media_player_mpy</span></code> with a dummy_loop that runs the media_player_mpy object. Add the column <code class="docutils literal notranslate"><span class="pre">my_movie_filename</span></code> to the dummy_loop and enter the value <code class="docutils literal notranslate"><span class="pre">[movie_filename]</span></code> in the first row. Change the Video file field of media_player_mpy to [my_movie_filename]. Remove any reference to the items.prepare() command in all inlines. Because the prepare-run strategy is repeated for each loop separately, the movie is updated automatically at the end of the trial. Try whether this solution works.</p>
</div>
<div class="section" id="run-if-solution">
<h4>2. Run-If solution<a class="headerlink" href="#run-if-solution" title="Permalink to this headline">¶</a></h4>
<p>Because we have a limited number of videos to present (six combinations) it might be more elegant to preload all relevant movies in the beginning of the trial and use the Run If feature to only present the video that shows the correct target_player.  Open the old experiment with the media_player you saved after Step 3. Remove any reference to the items.prepare() command in all inlines. Use two media_players per trial with fixed filenames. Run only the relevant video depending on the value of target_player using the Run if feature in the <code class="docutils literal notranslate"><span class="pre">play1_seq</span></code>, <code class="docutils literal notranslate"><span class="pre">play2_seq</span></code>, and <code class="docutils literal notranslate"><span class="pre">play3_seq</span></code> sequences.</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content\05_loops\cyberball"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../loops_python_exercises.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Python exercises: Loops</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../06_strings/strings_intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Session 6 - Strings</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Jeshua Tromp & Henk van Steenbergen<br/>
    
        &copy; Copyright 2022/2023.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>